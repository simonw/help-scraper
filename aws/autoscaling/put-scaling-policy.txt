PUT-SCALING-POLICY()                                      PUT-SCALING-POLICY()



NAME
       put-scaling-policy -

DESCRIPTION
       Creates  or updates a scaling policy for an Auto Scaling group. Scaling
       policies are used to scale an Auto Scaling group based on  configurable
       metrics. If no policies are defined, the dynamic scaling and predictive
       scaling features are not used.

       For more information about using dynamic scaling, see  Target  tracking
       scaling policies and Step and simple scaling policies in the Amazon EC2
       Auto Scaling User Guide .

       For more information about using  predictive  scaling,  see  Predictive
       scaling for Amazon EC2 Auto Scaling in the Amazon EC2 Auto Scaling User
       Guide .

       You can view the scaling policies for an Auto Scaling group  using  the
       DescribePolicies API call. If you are no longer using a scaling policy,
       you can delete it by calling the  DeletePolicy API.

       See also: AWS API Documentation

       See 'aws help' for descriptions of global parameters.

SYNOPSIS
            put-scaling-policy
          --auto-scaling-group-name <value>
          --policy-name <value>
          [--policy-type <value>]
          [--adjustment-type <value>]
          [--min-adjustment-step <value>]
          [--min-adjustment-magnitude <value>]
          [--scaling-adjustment <value>]
          [--cooldown <value>]
          [--metric-aggregation-type <value>]
          [--step-adjustments <value>]
          [--estimated-instance-warmup <value>]
          [--target-tracking-configuration <value>]
          [--enabled | --no-enabled]
          [--predictive-scaling-configuration <value>]
          [--cli-input-json <value>]
          [--generate-cli-skeleton <value>]

OPTIONS
       --auto-scaling-group-name (string)
          The name of the Auto Scaling group.

       --policy-name (string)
          The name of the policy.

       --policy-type (string)
          One of the following policy types:

          o TargetTrackingScaling

          o StepScaling

          o SimpleScaling (default)

          o PredictiveScaling

       --adjustment-type (string)
          Specifies how the scaling adjustment is interpreted (for example, an
          absolute  number  or a percentage). The valid values are ChangeInCa-
          pacity , ExactCapacity , and PercentChangeInCapacity .

          Required if the policy type is StepScaling or  SimpleScaling  .  For
          more  information,  see  Scaling  adjustment types in the Amazon EC2
          Auto Scaling User Guide .

       --min-adjustment-step (integer)
          Available for backward compatibility. Use MinAdjustmentMagnitude in-
          stead.

       --min-adjustment-magnitude (integer)
          The  minimum  value  to  scale  by  when the adjustment type is Per-
          centChangeInCapacity . For example, suppose that you create  a  step
          scaling  policy to scale out an Auto Scaling group by 25 percent and
          you specify a MinAdjustmentMagnitude of 2. If the group  has  4  in-
          stances  and  the scaling policy is performed, 25 percent of 4 is 1.
          However, because you specified a MinAdjustmentMagnitude of 2, Amazon
          EC2 Auto Scaling scales out the group by 2 instances.

          Valid  only if the policy type is StepScaling or SimpleScaling . For
          more information, see Scaling adjustment types  in  the  Amazon  EC2
          Auto Scaling User Guide .

          NOTE:
              Some Auto Scaling groups use instance weights. In this case, set
              the MinAdjustmentMagnitude to a value that is at least as  large
              as your largest instance weight.

       --scaling-adjustment (integer)
          The  amount  by  which  to  scale, based on the specified adjustment
          type. A positive value adds to the current capacity while a negative
          number  removes  from  the current capacity. For exact capacity, you
          must specify a positive value.

          Required if the policy type is SimpleScaling . (Not  used  with  any
          other policy type.)

       --cooldown (integer)
          The  duration  of  the  policy's cooldown period, in seconds. When a
          cooldown period is specified here, it overrides the default cooldown
          period defined for the Auto Scaling group.

          Valid  only  if the policy type is SimpleScaling . For more informa-
          tion, see Scaling cooldowns for Amazon EC2 Auto Scaling in the  Ama-
          zon EC2 Auto Scaling User Guide .

       --metric-aggregation-type (string)
          The  aggregation  type  for the CloudWatch metrics. The valid values
          are Minimum , Maximum , and Average . If  the  aggregation  type  is
          null, the value is treated as Average .

          Valid only if the policy type is StepScaling .

       --step-adjustments (list)
          A  set  of adjustments that enable you to scale based on the size of
          the alarm breach.

          Required if the policy type is StepScaling  .  (Not  used  with  any
          other policy type.)

          (structure)
              Describes  information  used  to  create a step adjustment for a
              step scaling policy.

              For the following examples, suppose that you have an alarm  with
              a breach threshold of 50:

              o To  trigger  the adjustment when the metric is greater than or
                equal to 50 and less than 60, specify a lower bound of  0  and
                an upper bound of 10.

              o To  trigger  the adjustment when the metric is greater than 40
                and less than or equal to 50, specify a lower bound of -10 and
                an upper bound of 0.

              There  are  a  few  rules for the step adjustments for your step
              policy:

              o The ranges of your step adjustments can't overlap  or  have  a
                gap.

              o At  most,  one step adjustment can have a null lower bound. If
                one step adjustment has a negative  lower  bound,  then  there
                must be a step adjustment with a null lower bound.

              o At  most,  one step adjustment can have a null upper bound. If
                one step adjustment has a positive  upper  bound,  then  there
                must be a step adjustment with a null upper bound.

              o The  upper  and lower bound can't be null in the same step ad-
                justment.

              For more information, see Step adjustments  in  the  Amazon  EC2
              Auto Scaling User Guide .

              MetricIntervalLowerBound -> (double)
                 The  lower bound for the difference between the alarm thresh-
                 old and the CloudWatch metric. If the metric value  is  above
                 the  breach threshold, the lower bound is inclusive (the met-
                 ric must be greater than or equal to the threshold  plus  the
                 lower  bound). Otherwise, it is exclusive (the metric must be
                 greater than the threshold plus  the  lower  bound).  A  null
                 value indicates negative infinity.

              MetricIntervalUpperBound -> (double)
                 The  upper bound for the difference between the alarm thresh-
                 old and the CloudWatch metric. If the metric value  is  above
                 the  breach threshold, the upper bound is exclusive (the met-
                 ric must be less than the threshold plus  the  upper  bound).
                 Otherwise,  it  is inclusive (the metric must be less than or
                 equal to the threshold plus the upper bound).  A  null  value
                 indicates positive infinity.

                 The upper bound must be greater than the lower bound.

              ScalingAdjustment -> (integer)
                 The  amount by which to scale, based on the specified adjust-
                 ment type. A positive value  adds  to  the  current  capacity
                 while a negative number removes from the current capacity.

       Shorthand Syntax:

          MetricIntervalLowerBound=double,MetricIntervalUpperBound=double,ScalingAdjustment=integer ...

       JSON Syntax:

          [
            {
              "MetricIntervalLowerBound": double,
              "MetricIntervalUpperBound": double,
              "ScalingAdjustment": integer
            }
            ...
          ]

       --estimated-instance-warmup (integer)
          The  estimated time, in seconds, until a newly launched instance can
          contribute to the CloudWatch metrics. If not provided,  the  default
          is  to  use  the value from the default cooldown period for the Auto
          Scaling group.

          Valid only if the policy type is TargetTrackingScaling or  StepScal-
          ing .

       --target-tracking-configuration (structure)
          A target tracking scaling policy. Provides support for predefined or
          custom metrics.

          The following predefined metrics are available:

          o ASGAverageCPUUtilization

          o ASGAverageNetworkIn

          o ASGAverageNetworkOut

          o ALBRequestCountPerTarget

          If you specify ALBRequestCountPerTarget for  the  metric,  you  must
          specify  the ResourceLabel parameter with the PredefinedMetricSpeci-
          fication .

          For more information, see TargetTrackingConfiguration in the  Amazon
          EC2 Auto Scaling API Reference .

          Required if the policy type is TargetTrackingScaling .

          PredefinedMetricSpecification -> (structure)
              A predefined metric. You must specify either a predefined metric
              or a customized metric.

              PredefinedMetricType -> (string)
                 The metric type. The following predefined metrics are  avail-
                 able:

                 o ASGAverageCPUUtilization  -  Average CPU utilization of the
                   Auto Scaling group.

                 o ASGAverageNetworkIn - Average number of bytes received (per
                   instance per minute) for the Auto Scaling group.

                 o ASGAverageNetworkOut  -  Average  number  of bytes sent out
                   (per instance per minute) for the Auto Scaling group.

                 o ALBRequestCountPerTarget - Average  Application  Load  Bal-
                   ancer  request  count (per target per minute) for your Auto
                   Scaling group.

              ResourceLabel -> (string)
                 A label that uniquely identifies a specific Application  Load
                 Balancer target group from which to determine the average re-
                 quest count served by your  Auto  Scaling  group.  You  can't
                 specify  a resource label unless the target group is attached
                 to the Auto Scaling group.

                 You create the resource label by appending the final  portion
                 of  the load balancer ARN and the final portion of the target
                 group ARN into a single value, separated by a  forward  slash
                 (/). The format of the resource label is:
                     app/my-alb/778d41231b141a0f/targetgroup/my-alb-tar-
                     get-group/943f017f100becff .

                 Where:

                 o app/<load-balancer-name>/<load-balancer-id>  is  the  final
                   portion of the load balancer ARN

                 o targetgroup/<target-group-name>/<target-group-id>   is  the
                   final portion of the target group ARN.

                 To find the ARN for an Application  Load  Balancer,  use  the
                 DescribeLoadBalancers  API operation. To find the ARN for the
                 target group, use the DescribeTargetGroups API operation.

          CustomizedMetricSpecification -> (structure)
              A customized metric. You must specify either a predefined metric
              or a customized metric.

              MetricName -> (string)
                 The  name  of the metric. To get the exact metric name, name-
                 space, and dimensions, inspect the Metric object that is  re-
                 turned by a call to ListMetrics .

              Namespace -> (string)
                 The namespace of the metric.

              Dimensions -> (list)
                 The dimensions of the metric.

                 Conditional:  If  you  published your metric with dimensions,
                 you must specify the same dimensions in your scaling policy.

                 (structure)
                     Describes the dimension of a metric.

                     Name -> (string)
                        The name of the dimension.

                     Value -> (string)
                        The value of the dimension.

              Statistic -> (string)
                 The statistic of the metric.

              Unit -> (string)
                 The unit of the metric. For a complete list of the units that
                 CloudWatch  supports,  see  the  MetricDatum data type in the
                 Amazon CloudWatch API Reference .

          TargetValue -> (double)
              The target value for the metric.

              NOTE:
                 Some metrics are based on a count instead  of  a  percentage,
                 such as the request count for an Application Load Balancer or
                 the number of messages in an SQS queue. If the scaling policy
                 specifies  one  of these metrics, specify the target utiliza-
                 tion as the optimal average request or message count per  in-
                 stance during any one-minute interval.

          DisableScaleIn -> (boolean)
              Indicates whether scaling in by the target tracking scaling pol-
              icy is disabled. If scaling in is disabled, the target  tracking
              scaling  policy  doesn't  remove instances from the Auto Scaling
              group. Otherwise, the target tracking scaling policy can  remove
              instances from the Auto Scaling group. The default is false .

       JSON Syntax:

          {
            "PredefinedMetricSpecification": {
              "PredefinedMetricType": "ASGAverageCPUUtilization"|"ASGAverageNetworkIn"|"ASGAverageNetworkOut"|"ALBRequestCountPerTarget",
              "ResourceLabel": "string"
            },
            "CustomizedMetricSpecification": {
              "MetricName": "string",
              "Namespace": "string",
              "Dimensions": [
                {
                  "Name": "string",
                  "Value": "string"
                }
                ...
              ],
              "Statistic": "Average"|"Minimum"|"Maximum"|"SampleCount"|"Sum",
              "Unit": "string"
            },
            "TargetValue": double,
            "DisableScaleIn": true|false
          }

       --enabled | --no-enabled (boolean)
          Indicates whether the scaling policy is enabled or disabled. The de-
          fault is enabled. For more information, see Disabling a scaling pol-
          icy  for  an  Auto Scaling group in the Amazon EC2 Auto Scaling User
          Guide .

       --predictive-scaling-configuration (structure)
          A predictive scaling policy. Provides  support  for  predefined  and
          custom metrics.

          Predefined  metrics include CPU utilization, network in/out, and the
          Application Load Balancer request count.

          For more information, see PredictiveScalingConfiguration in the Ama-
          zon EC2 Auto Scaling API Reference .

          Required if the policy type is PredictiveScaling .

          MetricSpecifications -> (list)
              This  structure  includes  the metrics and target utilization to
              use for predictive scaling.

              This is an array, but we currently only support a single  metric
              specification.  That  is,  you  can specify a target value and a
              single metric pair, or a target value and one scaling metric and
              one load metric.

              (structure)
                 This  structure  specifies the metrics and target utilization
                 settings for a predictive scaling policy.

                 You must specify either a metric pair, or a load metric and a
                 scaling metric individually. Specifying a metric pair instead
                 of individual metrics provides a  simpler  way  to  configure
                 metrics for a scaling policy. You choose the metric pair, and
                 the policy automatically knows the correct  sum  and  average
                 statistics to use for the load metric and the scaling metric.

                 Example

                 o You  create  a predictive scaling policy and specify ALBRe-
                   questCount as the value for the metric pair and  1000.0  as
                   the target value. For this type of metric, you must provide
                   the metric dimension for the corresponding target group, so
                   you  also provide a resource label for the Application Load
                   Balancer target group that is attached to your Auto Scaling
                   group.

                 o The number of requests the target group receives per minute
                   provides the load metric, and the  request  count  averaged
                   between  the members of the target group provides the scal-
                   ing metric. In CloudWatch, this refers to the  RequestCount
                   and RequestCountPerTarget metrics, respectively.

                 o For  optimal  use  of predictive scaling, you adhere to the
                   best practice of using a dynamic scaling policy to automat-
                   ically  scale  between the minimum capacity and maximum ca-
                   pacity in response to real-time changes  in  resource  uti-
                   lization.

                 o Amazon  EC2  Auto Scaling consumes data points for the load
                   metric over the last 14 days and  creates  an  hourly  load
                   forecast  for predictive scaling. (A minimum of 24 hours of
                   data is required.)

                 o After creating the load forecast, Amazon EC2  Auto  Scaling
                   determines  when to reduce or increase the capacity of your
                   Auto Scaling group in each hour of the forecast  period  so
                   that  the  average  number of requests received by each in-
                   stance is as close to 1000 requests per minute as  possible
                   at all times.

                 For  information  about  using custom metrics with predictive
                 scaling, see Advanced predictive  scaling  policy  configura-
                 tions  using  custom  metrics  in the Amazon EC2 Auto Scaling
                 User Guide .

                 TargetValue -> (double)
                     Specifies the target utilization.

                     NOTE:
                        Some metrics are based on a count instead  of  a  per-
                        centage,  such as the request count for an Application
                        Load Balancer or the number  of  messages  in  an  SQS
                        queue.  If  the  scaling policy specifies one of these
                        metrics, specify the target utilization as the optimal
                        average  request  or message count per instance during
                        any one-minute interval.

                 PredefinedMetricPairSpecification -> (structure)
                     The predefined metric pair specification from which  Ama-
                     zon  EC2  Auto Scaling determines the appropriate scaling
                     metric and load metric to use.

                     PredefinedMetricType -> (string)
                        Indicates which metrics to use. There are two  differ-
                        ent  types  of  metrics for each metric type: one is a
                        load metric and one is a scaling metric. For  example,
                        if  the  metric  type  is ASGCPUUtilization , the Auto
                        Scaling group's total CPU metric is used as  the  load
                        metric,  and  the  average  CPU metric is used for the
                        scaling metric.

                     ResourceLabel -> (string)
                        A label that uniquely identifies a  specific  Applica-
                        tion  Load  Balancer target group from which to deter-
                        mine the total and average  request  count  served  by
                        your  Auto Scaling group. You can't specify a resource
                        label unless the target group is attached to the  Auto
                        Scaling group.

                        You  create  the resource label by appending the final
                        portion of the load balancer ARN and the final portion
                        of the target group ARN into a single value, separated
                        by a forward slash (/). The format of the resource la-
                        bel is:
                            app/my-alb/778d41231b141a0f/target-
                            group/my-alb-target-group/943f017f100becff .

                        Where:

                        o app/<load-balancer-name>/<load-balancer-id>  is  the
                          final portion of the load balancer ARN

                        o targetgroup/<target-group-name>/<target-group-id> is
                          the final portion of the target group ARN.

                        To find the ARN for an Application Load Balancer,  use
                        the  DescribeLoadBalancers  API operation. To find the
                        ARN for the target group, use the DescribeTargetGroups
                        API operation.

                 PredefinedScalingMetricSpecification -> (structure)
                     The predefined scaling metric specification.

                     PredefinedMetricType -> (string)
                        The metric type.

                     ResourceLabel -> (string)
                        A  label  that uniquely identifies a specific Applica-
                        tion Load Balancer target group from which  to  deter-
                        mine  the  average  request  count served by your Auto
                        Scaling group. You can't specify a resource label  un-
                        less  the target group is attached to the Auto Scaling
                        group.

                        You create the resource label by appending  the  final
                        portion of the load balancer ARN and the final portion
                        of the target group ARN into a single value, separated
                        by a forward slash (/). The format of the resource la-
                        bel is:
                            app/my-alb/778d41231b141a0f/target-
                            group/my-alb-target-group/943f017f100becff .

                        Where:

                        o app/<load-balancer-name>/<load-balancer-id>  is  the
                          final portion of the load balancer ARN

                        o targetgroup/<target-group-name>/<target-group-id> is
                          the final portion of the target group ARN.

                        To  find the ARN for an Application Load Balancer, use
                        the DescribeLoadBalancers API operation. To  find  the
                        ARN for the target group, use the DescribeTargetGroups
                        API operation.

                 PredefinedLoadMetricSpecification -> (structure)
                     The predefined load metric specification.

                     PredefinedMetricType -> (string)
                        The metric type.

                     ResourceLabel -> (string)
                        A label that uniquely identifies a  specific  Applica-
                        tion  Load  Balancer target group from which to deter-
                        mine the request count served  by  your  Auto  Scaling
                        group.  You  can't specify a resource label unless the
                        target group is attached to the Auto Scaling group.

                        You create the resource label by appending  the  final
                        portion of the load balancer ARN and the final portion
                        of the target group ARN into a single value, separated
                        by a forward slash (/). The format of the resource la-
                        bel is:
                            app/my-alb/778d41231b141a0f/target-
                            group/my-alb-target-group/943f017f100becff .

                        Where:

                        o app/<load-balancer-name>/<load-balancer-id>  is  the
                          final portion of the load balancer ARN

                        o targetgroup/<target-group-name>/<target-group-id> is
                          the final portion of the target group ARN.

                        To  find the ARN for an Application Load Balancer, use
                        the DescribeLoadBalancers API operation. To  find  the
                        ARN for the target group, use the DescribeTargetGroups
                        API operation.

                 CustomizedScalingMetricSpecification -> (structure)
                     The customized scaling metric specification.

                     MetricDataQueries -> (list)
                        One or more metric data queries to  provide  the  data
                        points  for a scaling metric. Use multiple metric data
                        queries only if you are performing a  math  expression
                        on returned data.

                        (structure)
                            The  metric  data  to return. Also defines whether
                            this call is returning data for one  metric  only,
                            or  whether  it is performing a math expression on
                            the values of returned metric statistics to create
                            a  new  time  series. A time series is a series of
                            data points, each of which is  associated  with  a
                            timestamp.

                            For  more  information  and examples, see Advanced
                            predictive  scaling  policy  configurations  using
                            custom metrics in the Amazon EC2 Auto Scaling User
                            Guide .

                            Id -> (string)
                               A short name that identifies the  object's  re-
                               sults in the response. This name must be unique
                               among all MetricDataQuery objects specified for
                               a  single scaling policy. If you are performing
                               math expressions on this set of data, this name
                               represents  that  data and can serve as a vari-
                               able in the mathematical expression. The  valid
                               characters  are  letters,  numbers,  and under-
                               scores. The first character must be a lowercase
                               letter.

                            Expression -> (string)
                               The  math expression to perform on the returned
                               data, if this object is performing a  math  ex-
                               pression. This expression can use the Id of the
                               other metrics to refer to  those  metrics,  and
                               can also use the Id of other expressions to use
                               the result of those expressions.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                            MetricStat -> (structure)
                               Information about the metric data to return.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                               Metric -> (structure)
                                   The CloudWatch metric to return,  including
                                   the metric name, namespace, and dimensions.
                                   To get the exact  metric  name,  namespace,
                                   and  dimensions,  inspect the Metric object
                                   that is returned by a call to ListMetrics .

                                   Namespace -> (string)
                                      The namespace of the  metric.  For  more
                                      information, see the table in Amazon Web
                                      Services services  that  publish  Cloud-
                                      Watch  metrics  in the Amazon CloudWatch
                                      User Guide .

                                   MetricName -> (string)
                                      The name of the metric.

                                   Dimensions -> (list)
                                      The dimensions for the metric.  For  the
                                      list  of  available  dimensions, see the
                                      Amazon Web Services documentation avail-
                                      able  from  the table in Amazon Web Ser-
                                      vices services that  publish  CloudWatch
                                      metrics  in  the  Amazon CloudWatch User
                                      Guide .

                                      Conditional: If you published your  met-
                                      ric  with  dimensions,  you must specify
                                      the same dimensions in your scaling pol-
                                      icy.

                                      (structure)
                                          Describes the dimension of a metric.

                                          Name -> (string)
                                             The name of the dimension.

                                          Value -> (string)
                                             The value of the dimension.

                               Stat -> (string)
                                   The statistic to return. It can include any
                                   CloudWatch statistic or extended statistic.
                                   For  a  list of valid values, see the table
                                   in Statistics in the Amazon CloudWatch User
                                   Guide .

                                   The  most commonly used metrics for predic-
                                   tive scaling are Average and Sum .

                               Unit -> (string)
                                   The unit  to  use  for  the  returned  data
                                   points.  For  a  complete list of the units
                                   that   CloudWatch   supports,    see    the
                                   MetricDatum  data type in the Amazon Cloud-
                                   Watch API Reference .

                            Label -> (string)
                               A human-readable label for this metric  or  ex-
                               pression.  This is especially useful if this is
                               a math expression, so that you  know  what  the
                               value represents.

                            ReturnData -> (boolean)
                               Indicates  whether to return the timestamps and
                               raw data values of this metric.

                               If you use any math expressions,  specify  true
                               for  this value for only the final math expres-
                               sion that the metric specification is based on.
                               You  must  specify false for ReturnData for all
                               the other metrics and expressions used  in  the
                               metric specification.

                               If you are only retrieving metrics and not per-
                               forming any math expressions,  do  not  specify
                               anything  for  ReturnData . This sets it to its
                               default (true ).

                 CustomizedLoadMetricSpecification -> (structure)
                     The customized load metric specification.

                     MetricDataQueries -> (list)
                        One or more metric data queries to  provide  the  data
                        points  for  a  load  metric. Use multiple metric data
                        queries only if you are performing a  math  expression
                        on returned data.

                        (structure)
                            The  metric  data  to return. Also defines whether
                            this call is returning data for one  metric  only,
                            or  whether  it is performing a math expression on
                            the values of returned metric statistics to create
                            a  new  time  series. A time series is a series of
                            data points, each of which is  associated  with  a
                            timestamp.

                            For  more  information  and examples, see Advanced
                            predictive  scaling  policy  configurations  using
                            custom metrics in the Amazon EC2 Auto Scaling User
                            Guide .

                            Id -> (string)
                               A short name that identifies the  object's  re-
                               sults in the response. This name must be unique
                               among all MetricDataQuery objects specified for
                               a  single scaling policy. If you are performing
                               math expressions on this set of data, this name
                               represents  that  data and can serve as a vari-
                               able in the mathematical expression. The  valid
                               characters  are  letters,  numbers,  and under-
                               scores. The first character must be a lowercase
                               letter.

                            Expression -> (string)
                               The  math expression to perform on the returned
                               data, if this object is performing a  math  ex-
                               pression. This expression can use the Id of the
                               other metrics to refer to  those  metrics,  and
                               can also use the Id of other expressions to use
                               the result of those expressions.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                            MetricStat -> (structure)
                               Information about the metric data to return.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                               Metric -> (structure)
                                   The CloudWatch metric to return,  including
                                   the metric name, namespace, and dimensions.
                                   To get the exact  metric  name,  namespace,
                                   and  dimensions,  inspect the Metric object
                                   that is returned by a call to ListMetrics .

                                   Namespace -> (string)
                                      The namespace of the  metric.  For  more
                                      information, see the table in Amazon Web
                                      Services services  that  publish  Cloud-
                                      Watch  metrics  in the Amazon CloudWatch
                                      User Guide .

                                   MetricName -> (string)
                                      The name of the metric.

                                   Dimensions -> (list)
                                      The dimensions for the metric.  For  the
                                      list  of  available  dimensions, see the
                                      Amazon Web Services documentation avail-
                                      able  from  the table in Amazon Web Ser-
                                      vices services that  publish  CloudWatch
                                      metrics  in  the  Amazon CloudWatch User
                                      Guide .

                                      Conditional: If you published your  met-
                                      ric  with  dimensions,  you must specify
                                      the same dimensions in your scaling pol-
                                      icy.

                                      (structure)
                                          Describes the dimension of a metric.

                                          Name -> (string)
                                             The name of the dimension.

                                          Value -> (string)
                                             The value of the dimension.

                               Stat -> (string)
                                   The statistic to return. It can include any
                                   CloudWatch statistic or extended statistic.
                                   For  a  list of valid values, see the table
                                   in Statistics in the Amazon CloudWatch User
                                   Guide .

                                   The  most commonly used metrics for predic-
                                   tive scaling are Average and Sum .

                               Unit -> (string)
                                   The unit  to  use  for  the  returned  data
                                   points.  For  a  complete list of the units
                                   that   CloudWatch   supports,    see    the
                                   MetricDatum  data type in the Amazon Cloud-
                                   Watch API Reference .

                            Label -> (string)
                               A human-readable label for this metric  or  ex-
                               pression.  This is especially useful if this is
                               a math expression, so that you  know  what  the
                               value represents.

                            ReturnData -> (boolean)
                               Indicates  whether to return the timestamps and
                               raw data values of this metric.

                               If you use any math expressions,  specify  true
                               for  this value for only the final math expres-
                               sion that the metric specification is based on.
                               You  must  specify false for ReturnData for all
                               the other metrics and expressions used  in  the
                               metric specification.

                               If you are only retrieving metrics and not per-
                               forming any math expressions,  do  not  specify
                               anything  for  ReturnData . This sets it to its
                               default (true ).

                 CustomizedCapacityMetricSpecification -> (structure)
                     The customized capacity metric specification.

                     MetricDataQueries -> (list)
                        One or more metric data queries to  provide  the  data
                        points for a capacity metric. Use multiple metric data
                        queries only if you are performing a  math  expression
                        on returned data.

                        (structure)
                            The  metric  data  to return. Also defines whether
                            this call is returning data for one  metric  only,
                            or  whether  it is performing a math expression on
                            the values of returned metric statistics to create
                            a  new  time  series. A time series is a series of
                            data points, each of which is  associated  with  a
                            timestamp.

                            For  more  information  and examples, see Advanced
                            predictive  scaling  policy  configurations  using
                            custom metrics in the Amazon EC2 Auto Scaling User
                            Guide .

                            Id -> (string)
                               A short name that identifies the  object's  re-
                               sults in the response. This name must be unique
                               among all MetricDataQuery objects specified for
                               a  single scaling policy. If you are performing
                               math expressions on this set of data, this name
                               represents  that  data and can serve as a vari-
                               able in the mathematical expression. The  valid
                               characters  are  letters,  numbers,  and under-
                               scores. The first character must be a lowercase
                               letter.

                            Expression -> (string)
                               The  math expression to perform on the returned
                               data, if this object is performing a  math  ex-
                               pression. This expression can use the Id of the
                               other metrics to refer to  those  metrics,  and
                               can also use the Id of other expressions to use
                               the result of those expressions.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                            MetricStat -> (structure)
                               Information about the metric data to return.

                               Conditional: Within  each  MetricDataQuery  ob-
                               ject,  you  must  specify  either Expression or
                               MetricStat , but not both.

                               Metric -> (structure)
                                   The CloudWatch metric to return,  including
                                   the metric name, namespace, and dimensions.
                                   To get the exact  metric  name,  namespace,
                                   and  dimensions,  inspect the Metric object
                                   that is returned by a call to ListMetrics .

                                   Namespace -> (string)
                                      The namespace of the  metric.  For  more
                                      information, see the table in Amazon Web
                                      Services services  that  publish  Cloud-
                                      Watch  metrics  in the Amazon CloudWatch
                                      User Guide .

                                   MetricName -> (string)
                                      The name of the metric.

                                   Dimensions -> (list)
                                      The dimensions for the metric.  For  the
                                      list  of  available  dimensions, see the
                                      Amazon Web Services documentation avail-
                                      able  from  the table in Amazon Web Ser-
                                      vices services that  publish  CloudWatch
                                      metrics  in  the  Amazon CloudWatch User
                                      Guide .

                                      Conditional: If you published your  met-
                                      ric  with  dimensions,  you must specify
                                      the same dimensions in your scaling pol-
                                      icy.

                                      (structure)
                                          Describes the dimension of a metric.

                                          Name -> (string)
                                             The name of the dimension.

                                          Value -> (string)
                                             The value of the dimension.

                               Stat -> (string)
                                   The statistic to return. It can include any
                                   CloudWatch statistic or extended statistic.
                                   For  a  list of valid values, see the table
                                   in Statistics in the Amazon CloudWatch User
                                   Guide .

                                   The  most commonly used metrics for predic-
                                   tive scaling are Average and Sum .

                               Unit -> (string)
                                   The unit  to  use  for  the  returned  data
                                   points.  For  a  complete list of the units
                                   that   CloudWatch   supports,    see    the
                                   MetricDatum  data type in the Amazon Cloud-
                                   Watch API Reference .

                            Label -> (string)
                               A human-readable label for this metric  or  ex-
                               pression.  This is especially useful if this is
                               a math expression, so that you  know  what  the
                               value represents.

                            ReturnData -> (boolean)
                               Indicates  whether to return the timestamps and
                               raw data values of this metric.

                               If you use any math expressions,  specify  true
                               for  this value for only the final math expres-
                               sion that the metric specification is based on.
                               You  must  specify false for ReturnData for all
                               the other metrics and expressions used  in  the
                               metric specification.

                               If you are only retrieving metrics and not per-
                               forming any math expressions,  do  not  specify
                               anything  for  ReturnData . This sets it to its
                               default (true ).

          Mode -> (string)
              The predictive scaling mode. Defaults  to  ForecastOnly  if  not
              specified.

          SchedulingBufferTime -> (integer)
              The  amount  of  time,  in seconds, by which the instance launch
              time can be advanced. For example, the forecast says to add  ca-
              pacity  at 10:00 AM, and you choose to pre-launch instances by 5
              minutes. In that case, the instances will be  launched  at  9:55
              AM.  The  intention is to give resources time to be provisioned.
              It can take a few minutes to launch an EC2 instance. The  actual
              amount  of time required depends on several factors, such as the
              size of the instance and whether there are  startup  scripts  to
              complete.

              The  value  must  be less than the forecast interval duration of
              3600 seconds (60 minutes). Defaults to 300 seconds if not speci-
              fied.

          MaxCapacityBreachBehavior -> (string)
              Defines  the behavior that should be applied if the forecast ca-
              pacity approaches or exceeds the maximum capacity  of  the  Auto
              Scaling group. Defaults to HonorMaxCapacity if not specified.

              The following are possible values:

              o HonorMaxCapacity  -  Amazon  EC2 Auto Scaling cannot scale out
                capacity higher than the maximum capacity. The maximum  capac-
                ity is enforced as a hard limit.

              o IncreaseMaxCapacity  -  Amazon  EC2 Auto Scaling can scale out
                capacity higher than the maximum capacity  when  the  forecast
                capacity  is close to or exceeds the maximum capacity. The up-
                per limit is determined by the  forecasted  capacity  and  the
                value for MaxCapacityBuffer .

          MaxCapacityBuffer -> (integer)
              The  size of the capacity buffer to use when the forecast capac-
              ity is close to or exceeds the maximum capacity.  The  value  is
              specified as a percentage relative to the forecast capacity. For
              example, if the buffer is 10, this means a  10  percent  buffer,
              such that if the forecast capacity is 50, and the maximum capac-
              ity is 40, then the effective maximum capacity is 55.

              If set to 0, Amazon EC2 Auto Scaling may scale  capacity  higher
              than  the  maximum capacity to equal but not exceed forecast ca-
              pacity.

              Required if the MaxCapacityBreachBehavior property is set to In-
              creaseMaxCapacity , and cannot be used otherwise.

       JSON Syntax:

          {
            "MetricSpecifications": [
              {
                "TargetValue": double,
                "PredefinedMetricPairSpecification": {
                  "PredefinedMetricType": "ASGCPUUtilization"|"ASGNetworkIn"|"ASGNetworkOut"|"ALBRequestCount",
                  "ResourceLabel": "string"
                },
                "PredefinedScalingMetricSpecification": {
                  "PredefinedMetricType": "ASGAverageCPUUtilization"|"ASGAverageNetworkIn"|"ASGAverageNetworkOut"|"ALBRequestCountPerTarget",
                  "ResourceLabel": "string"
                },
                "PredefinedLoadMetricSpecification": {
                  "PredefinedMetricType": "ASGTotalCPUUtilization"|"ASGTotalNetworkIn"|"ASGTotalNetworkOut"|"ALBTargetGroupRequestCount",
                  "ResourceLabel": "string"
                },
                "CustomizedScalingMetricSpecification": {
                  "MetricDataQueries": [
                    {
                      "Id": "string",
                      "Expression": "string",
                      "MetricStat": {
                        "Metric": {
                          "Namespace": "string",
                          "MetricName": "string",
                          "Dimensions": [
                            {
                              "Name": "string",
                              "Value": "string"
                            }
                            ...
                          ]
                        },
                        "Stat": "string",
                        "Unit": "string"
                      },
                      "Label": "string",
                      "ReturnData": true|false
                    }
                    ...
                  ]
                },
                "CustomizedLoadMetricSpecification": {
                  "MetricDataQueries": [
                    {
                      "Id": "string",
                      "Expression": "string",
                      "MetricStat": {
                        "Metric": {
                          "Namespace": "string",
                          "MetricName": "string",
                          "Dimensions": [
                            {
                              "Name": "string",
                              "Value": "string"
                            }
                            ...
                          ]
                        },
                        "Stat": "string",
                        "Unit": "string"
                      },
                      "Label": "string",
                      "ReturnData": true|false
                    }
                    ...
                  ]
                },
                "CustomizedCapacityMetricSpecification": {
                  "MetricDataQueries": [
                    {
                      "Id": "string",
                      "Expression": "string",
                      "MetricStat": {
                        "Metric": {
                          "Namespace": "string",
                          "MetricName": "string",
                          "Dimensions": [
                            {
                              "Name": "string",
                              "Value": "string"
                            }
                            ...
                          ]
                        },
                        "Stat": "string",
                        "Unit": "string"
                      },
                      "Label": "string",
                      "ReturnData": true|false
                    }
                    ...
                  ]
                }
              }
              ...
            ],
            "Mode": "ForecastAndScale"|"ForecastOnly",
            "SchedulingBufferTime": integer,
            "MaxCapacityBreachBehavior": "HonorMaxCapacity"|"IncreaseMaxCapacity",
            "MaxCapacityBuffer": integer
          }

       --cli-input-json  (string) Performs service operation based on the JSON
       string provided. The JSON string follows the format provided by  --gen-
       erate-cli-skeleton.  If  other  arguments  are  provided on the command
       line, the CLI values will override the JSON-provided values. It is  not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally.

       --generate-cli-skeleton (string) Prints a  JSON  skeleton  to  standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for  --cli-input-json.  If provided with the value output, it validates
       the command inputs and returns a sample output JSON for that command.

       See 'aws help' for descriptions of global parameters.

EXAMPLES
       To add a target tracking scaling policy to an Auto Scaling group

       The following put-scaling-policy  example  applies  a  target  tracking
       scaling policy to the specified Auto Scaling group. The output contains
       the ARNs and names of the two CloudWatch alarms created on your behalf.
       If a scaling policy with the same name already exists, it will be over-
       written by the new scaling policy.

          aws autoscaling put-scaling-policy --auto-scaling-group-name my-asg \
            --policy-name alb1000-target-tracking-scaling-policy \
            --policy-type TargetTrackingScaling \
            --target-tracking-configuration file://config.json

       Contents of config.json:

          {
               "TargetValue": 1000.0,
               "PredefinedMetricSpecification": {
                    "PredefinedMetricType": "ALBRequestCountPerTarget",
                    "ResourceLabel": "app/my-alb/778d41231b141a0f/targetgroup/my-alb-target-group/943f017f100becff"
               }
          }

       Output:

          {
               "PolicyARN": "arn:aws:autoscaling:region:account-id:scalingPolicy:228f02c2-c665-4bfd-aaac-8b04080bea3c:autoScalingGroupName/my-asg:policyName/alb1000-target-tracking-scaling-policy",
               "Alarms": [
                   {
                       "AlarmARN": "arn:aws:cloudwatch:region:account-id:alarm:TargetTracking-my-asg-AlarmHigh-fc0e4183-23ac-497e-9992-691c9980c38e",
                       "AlarmName": "TargetTracking-my-asg-AlarmHigh-fc0e4183-23ac-497e-9992-691c9980c38e"
                   },
                   {
                       "AlarmARN": "arn:aws:cloudwatch:region:account-id:alarm:TargetTracking-my-asg-AlarmLow-61a39305-ed0c-47af-bd9e-471a352ee1a2",
                       "AlarmName": "TargetTracking-my-asg-AlarmLow-61a39305-ed0c-47af-bd9e-471a352ee1a2"
                   }
               ]
           }

       For more examples, see Example scaling policies  for  the  AWS  Command
       Line Interface (AWS CLI) in the Amazon EC2 Auto Scaling User Guide.

OUTPUT
       PolicyARN -> (string)
          The Amazon Resource Name (ARN) of the policy.

       Alarms -> (list)
          The  CloudWatch  alarms created for the target tracking scaling pol-
          icy.

          (structure)
              Describes an alarm.

              AlarmName -> (string)
                 The name of the alarm.

              AlarmARN -> (string)
                 The Amazon Resource Name (ARN) of the alarm.



                                                          PUT-SCALING-POLICY()
