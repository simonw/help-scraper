EXPORT-JOURNAL-TO-S3()                                  EXPORT-JOURNAL-TO-S3()



NAME
       export-journal-to-s3 -

DESCRIPTION
       Exports  journal  contents  within  a date and time range from a ledger
       into a specified Amazon Simple Storage Service (Amazon  S3)  bucket.  A
       journal export job can write the data objects in either the text or bi-
       nary representation of Amazon Ion format, or in JSON Lines text format.

       If the ledger with the  given  Name  doesn't  exist,  then  throws  Re-
       sourceNotFoundException .

       If  the  ledger  with the given Name is in CREATING status, then throws
       ResourcePreconditionNotMetException .

       You can initiate up to two concurrent journal export requests for  each
       ledger.  Beyond  this limit, journal export requests throw LimitExceed-
       edException .

       See also: AWS API Documentation

SYNOPSIS
            export-journal-to-s3
          --name <value>
          --inclusive-start-time <value>
          --exclusive-end-time <value>
          --s3-export-configuration <value>
          --role-arn <value>
          [--output-format <value>]
          [--cli-input-json <value>]
          [--generate-cli-skeleton <value>]
          [--debug]
          [--endpoint-url <value>]
          [--no-verify-ssl]
          [--no-paginate]
          [--output <value>]
          [--query <value>]
          [--profile <value>]
          [--region <value>]
          [--version <value>]
          [--color <value>]
          [--no-sign-request]
          [--ca-bundle <value>]
          [--cli-read-timeout <value>]
          [--cli-connect-timeout <value>]

OPTIONS
       --name (string)
          The name of the ledger.

       --inclusive-start-time (timestamp)
          The inclusive start date and time for the range of journal  contents
          to export.

          The  InclusiveStartTime must be in ISO 8601 date and time format and
          in    Universal    Coordinated    Time    (UTC).    For     example:
          2019-06-13T21:36:34Z .

          The InclusiveStartTime must be before ExclusiveEndTime .

          If  you  provide  an  InclusiveStartTime that is before the ledger's
          CreationDateTime , Amazon QLDB defaults it to the ledger's Creation-
          DateTime .

       --exclusive-end-time (timestamp)
          The exclusive end date and time for the range of journal contents to
          export.

          The ExclusiveEndTime must be in ISO 8601 date and time format and in
          Universal  Coordinated Time (UTC). For example: 2019-06-13T21:36:34Z
          .

          The ExclusiveEndTime must be less than or equal to the  current  UTC
          date and time.

       --s3-export-configuration (structure)
          The  configuration  settings of the Amazon S3 bucket destination for
          your export request.

          Bucket -> (string)
              The Amazon S3 bucket name in which a journal export  job  writes
              the journal contents.

              The  bucket  name  must  comply with the Amazon S3 bucket naming
              conventions. For more information, see Bucket  Restrictions  and
              Limitations in the Amazon S3 Developer Guide .

          Prefix -> (string)
              The  prefix  for  the Amazon S3 bucket in which a journal export
              job writes the journal contents.

              The prefix must comply with Amazon S3 key naming rules  and  re-
              strictions. For more information, see Object Key and Metadata in
              the Amazon S3 Developer Guide .

              The following are examples of valid Prefix values:

              o JournalExports-ForMyLedger/Testing/

              o JournalExports

              o My:Tests/

          EncryptionConfiguration -> (structure)
              The encryption settings that are used by a journal export job to
              write data in an Amazon S3 bucket.

              ObjectEncryptionType -> (string)
                 The Amazon S3 object encryption type.

                 To  learn more about server-side encryption options in Amazon
                 S3, see Protecting Data Using Server-Side Encryption  in  the
                 Amazon S3 Developer Guide .

              KmsKeyArn -> (string)
                 The  Amazon Resource Name (ARN) of a symmetric encryption key
                 in Key Management Service (KMS). Amazon S3 does  not  support
                 asymmetric KMS keys.

                 You  must  provide  a KmsKeyArn if you specify SSE_KMS as the
                 ObjectEncryptionType .
                     KmsKeyArn is not required if you specify  SSE_S3  as  the
                     ObjectEncryptionType .

       Shorthand Syntax:

          Bucket=string,Prefix=string,EncryptionConfiguration={ObjectEncryptionType=string,KmsKeyArn=string}

       JSON Syntax:

          {
            "Bucket": "string",
            "Prefix": "string",
            "EncryptionConfiguration": {
              "ObjectEncryptionType": "SSE_KMS"|"SSE_S3"|"NO_ENCRYPTION",
              "KmsKeyArn": "string"
            }
          }

       --role-arn (string)
          The Amazon Resource Name (ARN) of the IAM role that grants QLDB per-
          missions for a journal export job to do the following:

          o Write objects into your Amazon S3 bucket.

          o (Optional) Use your customer managed key in Key Management Service
            (KMS) for server-side encryption of your exported data.

          To  pass  a  role to QLDB when requesting a journal export, you must
          have permissions to perform the iam:PassRole action on the IAM  role
          resource. This is required for all journal export requests.

       --output-format (string)
          The  output  format  of your exported journal data. A journal export
          job can write the data objects in either the text or  binary  repre-
          sentation of Amazon Ion format, or in JSON Lines text format.

          Default: ION_TEXT

          In  JSON Lines format, each journal block in an exported data object
          is a valid JSON object that is delimited by a newline. You  can  use
          this  format to directly integrate JSON exports with analytics tools
          such as Amazon Athena and Glue because these services can parse new-
          line-delimited JSON automatically.

          Possible values:

          o ION_BINARY

          o ION_TEXT

          o JSON

       --cli-input-json  (string) Performs service operation based on the JSON
       string provided. The JSON string follows the format provided by  --gen-
       erate-cli-skeleton.  If  other  arguments  are  provided on the command
       line, the CLI values will override the JSON-provided values. It is  not
       possible to pass arbitrary binary values using a JSON-provided value as
       the string will be taken literally.

       --generate-cli-skeleton (string) Prints a  JSON  skeleton  to  standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for  --cli-input-json.  If provided with the value output, it validates
       the command inputs and returns a sample output JSON for that command.

GLOBAL OPTIONS
       --debug (boolean)

       Turn on debug logging.

       --endpoint-url (string)

       Override command's default URL with the given URL.

       --no-verify-ssl (boolean)

       By default, the AWS CLI uses SSL when communicating with AWS  services.
       For each SSL connection, the AWS CLI will verify SSL certificates. This
       option overrides the default behavior of verifying SSL certificates.

       --no-paginate (boolean)

       Disable automatic pagination. If automatic pagination is disabled,  the
       AWS CLI will only make one call, for the first page of results.

       --output (string)

       The formatting style for command output.

       o json

       o text

       o table

       --query (string)

       A JMESPath query to use in filtering the response data.

       --profile (string)

       Use a specific profile from your credential file.

       --region (string)

       The region to use. Overrides config/env settings.

       --version (string)

       Display the version of this tool.

       --color (string)

       Turn on/off color output.

       o on

       o off

       o auto

       --no-sign-request (boolean)

       Do  not  sign requests. Credentials will not be loaded if this argument
       is provided.

       --ca-bundle (string)

       The CA certificate bundle to use when verifying SSL certificates. Over-
       rides config/env settings.

       --cli-read-timeout (int)

       The  maximum socket read time in seconds. If the value is set to 0, the
       socket read will be blocking and not timeout. The default value  is  60
       seconds.

       --cli-connect-timeout (int)

       The  maximum  socket connect time in seconds. If the value is set to 0,
       the socket connect will be blocking and not timeout. The default  value
       is 60 seconds.

EXAMPLES
       NOTE:
          To  use  the following examples, you must have the AWS CLI installed
          and configured. See the Getting started guide in the  AWS  CLI  User
          Guide for more information.

          Unless  otherwise  stated,  all  examples  have  unix-like quotation
          rules. These examples will need to be  adapted  to  your  terminal's
          quoting rules. See Using quotation marks with strings in the AWS CLI
          User Guide .

       To export journal blocks to S3

       The following export-journal-to-s3 example creates an  export  job  for
       journal  blocks  within  a  specified date and time range from a ledger
       with the name myExampleLedger. The export job writes the blocks into  a
       specified Amazon S3 bucket.

          aws qldb export-journal-to-s3 \
              --name myExampleLedger \
              --inclusive-start-time 2019-09-18T00:00:00Z \
              --exclusive-end-time 2019-09-18T22:59:59Z \
              --role-arn arn:aws:iam::123456789012:role/my-s3-export-role \
              --s3-export-configuration file://my-s3-export-config.json

       Contents of my-s3-export-config.json:

          {
              "Bucket": "awsExampleBucket",
              "Prefix": "ledgerexport1/",
              "EncryptionConfiguration": {
                  "ObjectEncryptionType": "SSE_S3"
              }
          }

       Output:

          {
              "ExportId": "ADR2ONPKN5LINYGb4dp7yZ"
          }

       For  more information, see Exporting Your Journal in Amazon QLDB in the
       Amazon QLDB Developer Guide.

OUTPUT
       ExportId -> (string)
          The UUID (represented in Base62-encoded text) that QLDB  assigns  to
          each journal export job.

          To describe your export request and check the status of the job, you
          can use ExportId to call DescribeJournalS3Export .



                                                        EXPORT-JOURNAL-TO-S3()
