UPDATE-STACK()                                                  UPDATE-STACK()



NAME
       update-stack -

DESCRIPTION
       Updates a specified stack.
          Required  Permissions  : To use this action, an IAM user must have a
          Manage permissions level for the stack, or an attached  policy  that
          explicitly  grants permissions. For more information on user permis-
          sions, see Managing User Permissions .

       See also: AWS API Documentation

       See 'aws help' for descriptions of global parameters.

SYNOPSIS
            update-stack
          --stack-id <value>
          [--name <value>]
          [--attributes <value>]
          [--service-role-arn <value>]
          [--default-instance-profile-arn <value>]
          [--default-os <value>]
          [--hostname-theme <value>]
          [--default-availability-zone <value>]
          [--default-subnet-id <value>]
          [--custom-json <value>]
          [--configuration-manager <value>]
          [--chef-configuration <value>]
          [--use-custom-cookbooks | --no-use-custom-cookbooks]
          [--custom-cookbooks-source <value>]
          [--default-ssh-key-name <value>]
          [--default-root-device-type <value>]
          [--use-opsworks-security-groups | --no-use-opsworks-security-groups]
          [--agent-version <value>]
          [--cli-input-json | --cli-input-yaml]
          [--generate-cli-skeleton <value>]

OPTIONS
       --stack-id (string)
          The stack ID.

       --name (string)
          The stack's new name.

       --attributes (map)
          One or more user-defined key-value pairs to be added  to  the  stack
          attributes.

          key -> (string)

          value -> (string)

       Shorthand Syntax:

            KeyName1=string,KeyName2=string

          Where valid key names are:
            Color

       JSON Syntax:

          {"Color": "string"
            ...}

       --service-role-arn (string)
          Do not use this parameter. You cannot update a stack's service role.

       --default-instance-profile-arn (string)
          The ARN of an IAM profile that is the default profile for all of the
          stack's EC2 instances. For more  information  about  IAM  ARNs,  see
          Using Identifiers .

       --default-os (string)
          The  stack's  operating system, which must be set to one of the fol-
          lowing:

          o A supported Linux operating system: An Amazon Linux version,  such
            as  Amazon  Linux  2018.03  ,  Amazon Linux 2017.09 , Amazon Linux
            2017.03 , Amazon Linux 2016.09 , Amazon  Linux  2016.03  ,  Amazon
            Linux 2015.09 , or Amazon Linux 2015.03 .

          o A  supported  Ubuntu  operating system, such as Ubuntu 16.04 LTS ,
            Ubuntu 14.04 LTS , or Ubuntu 12.04 LTS .

          o CentOS Linux 7

          o Red Hat Enterprise Linux 7

          o A supported Windows operating system, such  as  Microsoft  Windows
            Server  2012  R2  Base , Microsoft Windows Server 2012 R2 with SQL
            Server Express , Microsoft Windows Server 2012 R2 with SQL  Server
            Standard , or Microsoft Windows Server 2012 R2 with SQL Server Web
            .

          o A custom AMI: Custom . You specify the custom AMI you want to  use
            when  you  create instances. For more information about how to use
            custom AMIs with OpsWorks, see Using Custom AMIs .

          The default option is the stack's current operating system. For more
          information  about  supported  operating  systems,  see AWS OpsWorks
          Stacks Operating Systems .

       --hostname-theme (string)
          The stack's new host name theme,  with  spaces  replaced  by  under-
          scores. The theme is used to generate host names for the stack's in-
          stances. By default, HostnameTheme is set to Layer_Dependent , which
          creates  host names by appending integers to the layer's short name.
          The other themes are:

          o Baked_Goods

          o Clouds

          o Europe_Cities

          o Fruits

          o Greek_Deities_and_Titans

          o Legendary_creatures_from_Japan

          o Planets_and_Moons

          o Roman_Deities

          o Scottish_Islands

          o US_Cities

          o Wild_Cats

          To obtain a generated host name, call GetHostNameSuggestion ,  which
          returns a host name based on the current theme.

       --default-availability-zone (string)
          The  stack's default Availability Zone, which must be in the stack's
          region. For more information, see Regions and  Endpoints  .  If  you
          also specify a value for DefaultSubnetId , the subnet must be in the
          same zone. For more information, see  CreateStack .

       --default-subnet-id (string)
          The stack's default VPC subnet ID. This parameter is required if you
          specify  a value for the VpcId parameter. All instances are launched
          into this subnet unless you specify otherwise when  you  create  the
          instance.  If you also specify a value for DefaultAvailabilityZone ,
          the subnet must be in that zone. For information on  default  values
          and  when  this  parameter  is required, see the VpcId parameter de-
          scription.

       --custom-json (string)
          A string that contains user-defined, custom JSON. It can be used  to
          override  the  corresponding default stack configuration JSON values
          or to pass data to recipes. The string should be  in  the  following
          format:
              "{\"key1\": \"value1\", \"key2\": \"value2\",...}"

          For  more information about custom JSON, see Use Custom JSON to Mod-
          ify the Stack Configuration Attributes .

       --configuration-manager (structure)
          The configuration manager. When you update  a  stack,  we  recommend
          that  you use the configuration manager to specify the Chef version:
          12, 11.10, or 11.4 for Linux stacks, or 12.2 for Windows stacks. The
          default value for Linux stacks is currently 12.

          Name -> (string)
              The name. This parameter must be set to "Chef".

          Version -> (string)
              The  Chef  version.  This parameter must be set to 12, 11.10, or
              11.4 for Linux stacks, and to 12.2 for Windows stacks.  The  de-
              fault value for Linux stacks is 11.4.

       Shorthand Syntax:

          Name=string,Version=string

       JSON Syntax:

          {
            "Name": "string",
            "Version": "string"
          }

       --chef-configuration (structure)
          A  ChefConfiguration  object  that specifies whether to enable Berk-
          shelf and the Berkshelf version on Chef 11.10 stacks. For  more  in-
          formation, see Create a New Stack .

          ManageBerkshelf -> (boolean)
              Whether to enable Berkshelf.

          BerkshelfVersion -> (string)
              The Berkshelf version.

       Shorthand Syntax:

          ManageBerkshelf=boolean,BerkshelfVersion=string

       JSON Syntax:

          {
            "ManageBerkshelf": true|false,
            "BerkshelfVersion": "string"
          }

       --use-custom-cookbooks | --no-use-custom-cookbooks (boolean)
          Whether the stack uses custom cookbooks.

       --custom-cookbooks-source (structure)
          Contains  the  information  required  to retrieve an app or cookbook
          from  a  repository.  For  more  information,  see  Adding  Apps  or
          Cookbooks and Recipes .

          Type -> (string)
              The repository type.

          Url -> (string)
              The  source  URL.  The  following  is an example of an Amazon S3
              source                  URL:                  https://s3.amazon-
              aws.com/opsworks-demo-bucket/opsworks_cookbook_demo.tar.gz .

          Username -> (string)
              This parameter depends on the repository type.

              o For Amazon S3 bundles, set Username to the appropriate IAM ac-
                cess key ID.

              o For HTTP bundles, Git repositories, and  Subversion  reposito-
                ries, set Username to the user name.

          Password -> (string)
              When included in a request, the parameter depends on the reposi-
              tory type.

              o For Amazon S3 bundles, set Password to the appropriate IAM se-
                cret access key.

              o For  HTTP bundles and Subversion repositories, set Password to
                the password.

              For more information on how to safely  handle  IAM  credentials,
              see
              https://docs.aws.amazon.com/general/latest/gr/aws-access-keys-best-practices.html
              .

              In responses, AWS OpsWorks Stacks returns *****FILTERED***** in-
              stead of the actual value.

          SshKey -> (string)
              In requests, the repository's SSH key.

              In responses, AWS OpsWorks Stacks returns *****FILTERED***** in-
              stead of the actual value.

          Revision -> (string)
              The  application's  version.  AWS OpsWorks Stacks enables you to
              easily deploy new versions of an application. One  of  the  sim-
              plest approaches is to have branches or revisions in your repos-
              itory that represent different versions that can potentially  be
              deployed.

       Shorthand Syntax:

          Type=string,Url=string,Username=string,Password=string,SshKey=string,Revision=string

       JSON Syntax:

          {
            "Type": "git"|"svn"|"archive"|"s3",
            "Url": "string",
            "Username": "string",
            "Password": "string",
            "SshKey": "string",
            "Revision": "string"
          }

       --default-ssh-key-name (string)
          A  default  Amazon EC2 key-pair name. The default value is none . If
          you specify a key-pair name, AWS OpsWorks Stacks installs the public
          key  on  the  instance  and  you can use the private key with an SSH
          client to log in to the instance. For more  information,  see  Using
          SSH  to  Communicate  with an Instance and Managing SSH Access . You
          can override this setting by specifying a different key pair, or  no
          key pair, when you create an instance .

       --default-root-device-type (string)
          The  default root device type. This value is used by default for all
          instances in the stack, but you can override it when you  create  an
          instance. For more information, see Storage for the Root Device .

          Possible values:

          o ebs

          o instance-store

       --use-opsworks-security-groups    |   --no-use-opsworks-security-groups
       (boolean)
          Whether to associate  the  AWS  OpsWorks  Stacks  built-in  security
          groups with the stack's layers.

          AWS  OpsWorks  Stacks  provides  a standard set of built-in security
          groups, one for each layer, which are associated with layers by  de-
          fault. UseOpsworksSecurityGroups allows you to provide your own cus-
          tom  security  groups  instead  of  using   the   built-in   groups.
          UseOpsworksSecurityGroups has the following settings:

          o True  - AWS OpsWorks Stacks automatically associates the appropri-
            ate built-in security group with each layer (default setting). You
            can  associate  additional  security groups with a layer after you
            create it, but you cannot delete the built-in security group.

          o False - AWS OpsWorks Stacks does not associate  built-in  security
            groups  with  layers.  You  must  create  appropriate EC2 security
            groups and associate a security group with  each  layer  that  you
            create. However, you can still manually associate a built-in secu-
            rity group with a layer on. Custom security  groups  are  required
            only for those layers that need custom settings.

          For more information, see Create a New Stack .

       --agent-version (string)
          The  default AWS OpsWorks Stacks agent version. You have the follow-
          ing options:

          o Auto-update - Set this parameter to LATEST . AWS  OpsWorks  Stacks
            automatically installs new agent versions on the stack's instances
            as soon as they are available.

          o Fixed version - Set this parameter to your  preferred  agent  ver-
            sion. To update the agent version, you must edit the stack config-
            uration and specify a new version. AWS OpsWorks Stacks then  auto-
            matically installs that version on the stack's instances.

          The  default  setting  is  LATEST . To specify an agent version, you
          must use the complete version number,  not  the  abbreviated  number
          shown on the console. For a list of available agent version numbers,
          call  DescribeAgentVersions . AgentVersion cannot  be  set  to  Chef
          12.2.

          NOTE:
              You  can also specify an agent version when you create or update
              an instance, which overrides the stack's default setting.

       --cli-input-json | --cli-input-yaml (string) Reads arguments  from  the
       JSON  string  provided.  The JSON string follows the format provided by
       --generate-cli-skeleton. If other arguments are provided on the command
       line,  those  values  will override the JSON-provided values. It is not
       possible to pass arbitrary binary values using a JSON-provided value as
       the  string  will  be  taken literally. This may not be specified along
       with --cli-input-yaml.

       --generate-cli-skeleton (string) Prints a  JSON  skeleton  to  standard
       output without sending an API request. If provided with no value or the
       value input, prints a sample input JSON that can be used as an argument
       for --cli-input-json. Similarly, if provided yaml-input it will print a
       sample input YAML that can be used with --cli-input-yaml.  If  provided
       with  the  value  output, it validates the command inputs and returns a
       sample output JSON for that command.

       See 'aws help' for descriptions of global parameters.

OUTPUT
       None



                                                                UPDATE-STACK()
